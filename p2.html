/* SWITCH Off State */
.cube-switch .switch-state.off {
    top: 15%;
}
</style>

    </head>
    <body>




<script>
	const APPKEY = "WHb9PGbAjWnL7hs";
	const APPSECRET = "qaiUhItyBR06oV5IflyAJ1kp8";
	const APPID = "TeezSmartHome";
	var microgear = Microgear.create({
		gearkey: APPKEY,
		gearsecret: APPSECRET
	});
	function switchPress(){
		if(document.getElementById("cube-switch").className == "cube-switch active"){
			microgear.chat("pieplug","ON");
		}else if(document.getElementById("cube-switch").className == "cube-switch"){
			microgear.chat("pieplug","OFF");
		}
	}
	microgear.on('message', function(topic,data) {
		if(data=="OFF"){
			document.getElementById("cube-switch").className = "cube-switch active";
		}else if(data=="ON"){
			document.getElementById("cube-switch").className = "cube-switch";
		}
	});
	microgear.on('connected', function() {
		microgear.setname('controllerplug');
		document.getElementById("cube-switch").className = "cube-switch active";
		document.getElementById("cube-switch").style.display = "block";
	});
	microgear.resettoken(function(err){
		microgear.connect(APPID);
	});
	
</script>
	   
<div style="margin: 20px;"><img src="http://intercax.com/wp-content/uploads/2015/09/Smarthome_Illustration-1024x939.jpg" style="vertical-align:bottom;width:150px;hight:35px;"></div>
<center>
	<div href="" class="cube-switch" id="cube-switch" onclick="switchPress()">
		<span class="switch">
		
		<span class="switch-state off">เปิด</span>
		
			<span class="switch-state on">ปิด</span>
			
			
		</span>
		<button class="cude-switch" onclick="switchPress()">Copy Text</button>
	</div>
</center>


</body>
</html>
